# 要件定義

## サービス概要
**Vibe Interior**は、ユーザーが部屋の画像をアップロードするだけで、AIが実在する家具を配置した改装イメージを自動生成し、そのまま購入できるリンクを提案するWebサービスです。

## ターゲットユーザー
- 部屋の模様替えを考えているが、具体的なイメージが湧かない人
- インテリアコーディネートのアイデアが欲しい人
- 実際に購入できる家具で部屋をシミュレーションしたい人

## MVP機能要件

### 1. ユーザー認証
- [ ] Firebaseメール/パスワード認証
- [ ] Googleソーシャルログイン
- [ ] ログイン状態の永続化

### 2. 画像アップロード
- [ ] ユーザーが部屋の写真をアップロード（1枚）
- [ ] Firebase Storageへの保存
- [ ] 画像プレビュー表示
- [ ] 対応形式: JPEG, PNG (最大10MB)

### 3. AIインテリア生成
- [ ] アップロードされた部屋画像を解析
- [ ] Gemini 3 Pro Imageを使用して改装イメージを生成
- [ ] 実在する家具（楽天/Amazon）を配置
- [ ] 家具の一貫性を保つため `reference_images` 機能を活用
- [ ] 生成結果をFirestoreに保存

### 4. 家具推薦
- [ ] 配置された家具に対してGemini 3.0 ProでRAG検索
- [ ] 楽天/Amazon商品カタログから類似商品を抽出
- [ ] 商品名、価格、購入リンクを表示
- [ ] 各家具に対して3〜5件の推薦

### 5. デザイン閲覧・管理
- [ ] 生成されたデザインをギャラリー表示
- [ ] デザイン詳細ページ（画像+推薦家具リスト）
- [ ] デザインの削除機能
- [ ] お気に入り機能（将来拡張）

### 6. UI/UX
- [ ] レスポンシブデザイン（モバイル/デスクトップ）
- [ ] ダークモードをデフォルトとする
- [ ] ローディング状態の表示
- [ ] エラーハンドリング（アップロード失敗、AI生成失敗など）

## 非機能要件

### パフォーマンス
- 画像アップロード: 5秒以内
- AI生成: 30秒以内
- ページ読み込み: 3秒以内

### セキュリティ
- 認証済みユーザーのみがサービスを利用可能
- ユーザーは自分のデザインのみ閲覧・削除可能
- アップロード画像のセキュリティルール設定

### スケーラビリティ
- Firestoreのインデックス最適化
- Firebase Functionsのタイムアウト設定（最大9分）
- 画像生成の非同期処理

## 制約事項
- MVP段階では日本語のみ対応
- 家具カタログは楽天/Amazonに限定
- 1ユーザーあたり月10回までの生成制限（コスト管理）

## 将来的な拡張機能
- 複数画像の同時アップロード
- 部屋のスタイル指定（北欧、モダン、和風など）
- 3Dビューアー統合
- SNSシェア機能
- プレミアムプラン（無制限生成）
- AR表示機能
